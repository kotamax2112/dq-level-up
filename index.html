<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Level Up at DQ</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">üç¶</div>
      <div class="brand-text">
        <div class="brand-title">LEVEL UP AT DQ</div>
        <div class="brand-sub">Live scoreboard ‚Ä¢ audit logs ‚Ä¢ export/import</div>
      </div>
    </div>

    <div class="top-actions">
      <button id="btnQuickExport" class="btn">Export</button>
      <button id="btnQuickImport" class="btn">Import</button>
      <button id="btnHardRefresh" class="btn ghost">Hard Refresh</button>
    </div>
  </header>

  <nav class="tabs" id="tabs">
    <button class="tab active" data-view="overviewView">Overview</button>
    <button class="tab" data-view="teamsView">Teams</button>
    <button class="tab" data-view="playersView">Players</button>
    <button class="tab" data-view="activityView">Audit Log</button>
    <button class="tab" data-view="settingsView">Settings</button>
  </nav>

  <main class="main">
    <!-- OVERVIEW -->
    <section class="view active" id="overviewView">
      <div class="grid two">
        <div class="card">
          <div class="card-title">Teams</div>
          <div id="overviewTeamTiles" class="tiles"></div>
        </div>

        <div class="card">
          <div class="card-title">Top Rainbow Progress</div>
          <div class="card-sub">Who‚Äôs closest to earning all 20 core badges (üåà auto-awarded).</div>
          <div id="overviewRainbowList" class="list"></div>
        </div>
      </div>

      <div class="grid one">
        <div class="card">
          <div class="card-title">Spins Available</div>
          <div class="card-sub">Level-ups add spins automatically.</div>
          <div id="overviewSpinsList" class="list"></div>
        </div>
      </div>
    </section>

    <!-- TEAMS -->
    <section class="view" id="teamsView">
      <div class="grid two">
        <div class="card">
          <div class="card-title">Team List</div>
          <div id="teamList" class="team-list"></div>
        </div>

        <div class="card">
          <div class="card-title">Team Detail</div>
          <div class="card-sub">Tap quick emojis to award XP. ‚ÄúMore‚Ä¶‚Äù opens the full menu.</div>
          <div class="award-bar">
            <label class="inline">
              Awarded by:
              <input id="awardedByInput" type="text" placeholder="Dakota / Manager name (optional)" />
            </label>
            <div class="muted tiny" id="deviceLine"></div>
          </div>
          <div id="teamDetail" class="team-detail"></div>
        </div>
      </div>
    </section>

    <!-- PLAYERS -->
    <section class="view" id="playersView">
      <div class="card">
        <div class="card-title">Players</div>
        <div class="filters">
          <label>
            Team
            <select id="playersFilterTeam"></select>
          </label>
          <label>
            Role
            <select id="playersFilterRole">
              <option value="all">All</option>
              <option value="Captain">Captain</option>
              <option value="Manager Mentor">Manager Mentor</option>
              <option value="Player">Player</option>
            </select>
          </label>
          <label class="grow">
            Search
            <input id="playersSearch" type="search" placeholder="Type a name‚Ä¶" />
          </label>
        </div>
        <div id="playersGrid" class="roster"></div>
      </div>
    </section>

    <!-- AUDIT LOG -->
    <section class="view" id="activityView">
      <div class="card">
        <div class="card-title">Audit Log</div>
        <div class="card-sub">
          Every award creates a tamper-resistant-style entry (timestamp + device ID + before/after).  
          This is the ‚Äúdon‚Äôt lie‚Äù record.
        </div>

        <div class="filters">
          <label class="grow">
            Search log
            <input id="logSearch" type="search" placeholder="player, emoji, awarded by, team‚Ä¶" />
          </label>
          <label>
            Show
            <select id="logLimit">
              <option value="50">50</option>
              <option value="100" selected>100</option>
              <option value="250">250</option>
              <option value="500">500</option>
            </select>
          </label>
        </div>

        <div id="activityList" class="activity"></div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section class="view" id="settingsView">
      <div class="grid two">
        <div class="card">
          <div class="card-title">Export / Import</div>
          <div class="card-sub">Use this to move phone ‚Üí BOH PC. Export on phone, import on BOH.</div>

          <div class="btn-row">
            <button id="btnExport" class="btn">Export JSON</button>
            <button id="btnCopyExport" class="btn ghost">Copy JSON to Clipboard</button>
          </div>

          <hr class="sep" />

          <div class="import">
            <div class="tiny muted">Import from file:</div>
            <input id="importFile" type="file" accept="application/json" />
          </div>

          <div class="import">
            <div class="tiny muted">Or paste JSON:</div>
            <textarea id="importText" rows="10" placeholder="{ ... }"></textarea>
            <div class="btn-row">
              <button id="btnImportPaste" class="btn">Import Pasted JSON</button>
              <button id="btnClearPaste" class="btn ghost">Clear</button>
            </div>
          </div>
        </div>

        <div class="card danger">
          <div class="card-title">Danger Zone</div>
          <div class="card-sub">Reset wipes LocalStorage on this device and reloads state.json seed.</div>
          <button id="btnReset" class="btn danger-btn">Reset to Seed</button>

          <hr class="sep" />

          <div class="card-sub">
            <div><strong>BOH-only updating (your goal)</strong></div>
            <div class="tiny muted">
              This app is LocalStorage-based. ‚ÄúLocking‚Äù updates to one device means:
              only that BOH PC does awarding/imports; everyone else is read-only by policy (not by code).
              If you truly need public read from anywhere, you‚Äôll eventually want a shared backend (Sheets/Firebase).
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ACTION PICKER MODAL -->
  <div id="modalOverlay" class="modal-overlay">
    <div class="modal">
      <div class="modal-head">
        <div>
          <div class="modal-title">Add Points / Badge</div>
          <div class="tiny muted">Search then tap an action.</div>
        </div>
        <button id="modalCloseBtn" class="btn ghost">Close</button>
      </div>
      <input id="actionSearch" class="modal-search" type="search" placeholder="Search actions‚Ä¶" />
      <div id="actionGrid" class="action-grid"></div>
      <div class="modal-foot">
        <button id="modalCancelBtn" class="btn ghost">Cancel</button>
      </div>
    </div>
  </div>

  <!-- TOASTS -->
  <div id="toastWrap" class="toast-wrap"></div>

  <script src="app.js"></script>
</body>
</html>
